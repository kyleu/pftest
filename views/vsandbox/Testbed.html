{% import (
  "github.com/kyleu/pftest/app"
  "github.com/kyleu/pftest/app/controller/cutil"
  "github.com/kyleu/pftest/views/components"
  "github.com/kyleu/pftest/views/components/edit"
  "github.com/kyleu/pftest/views/components/view"
  "github.com/kyleu/pftest/views/layout"
) %}

{% code type Testbed struct { layout.Basic } %}

{% func (p *Testbed) Body(as *app.State, ps *cutil.PageState) %}
{%= icons(as, ps) %}
{%= tabs(as, ps) %}
{%= accordion(as, ps) %}
{%= modal(as, ps) %}
{%= display(as, ps) %}
{% endfunc %}

{%- func icons(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>SVG Icons</h3>
    {%= components.IconGallery(as, ps) %}
  </div>
{%- endfunc -%}

{%- func tabs(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Tabs</h3>
    <div class="tabs">
      {%- for _, o := range []string{"Alpha", "Beta", "Gamma", "Delta", "Epsilon"} -%}
      <input name="type" type="radio" id="tab-{%s o %}" class="input"/>
      <label for="tab-{%s o %}" class="label">{%s o %}</label>
      <div class="panel"><p>This is a tab named {%s o %}</p></div>
      {%- endfor -%}
    </div>
  </div>
{%- endfunc -%}

{%- func accordion(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Accordion</h3>
    <ul class="accordion">
      <li>
        <input id="accordion-a" type="checkbox" hidden />
        <label for="accordion-a">{%= components.ExpandCollapse(3, ps) %} Option A</label>
        <div class="bd"><div><div>Option A!</div></div></div>
      </li>
      <li>
        <input id="accordion-b" type="checkbox" hidden />
        <label for="accordion-b">{%= components.ExpandCollapse(3, ps) %} Option B</label>
        <div class="bd"><div><div>Option B!</div></div></div>
      </li>
      <li>
        <input id="accordion-c" type="checkbox" hidden />
        <label for="accordion-c">{%= components.ExpandCollapse(3, ps) %} Option C (not animated)</label>
        <div class="bd-no-animation">Option C!</div>
      </li>
    </ul>
  </div>
{%- endfunc -%}

{%- func modal(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Modal</h3>
    <div><a href="#modal-x">Open modal</a></div>
  </div>
  <div id="modal-x" class="modal" style="display: none;">
    <a class="backdrop" href="#"></a>
    <div class="modal-content">
      <div class="modal-header">
        <a href="#" class="modal-close">Ã—</a>
        <h2>Modal</h2>
      </div>
      <div class="modal-body">
        Here's a modal body!
      </div>
    </div>
  </div>
{%- endfunc -%}

{%- func display(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Display Types</h3>
    <div class="mt overflow full-width min-200">
      <table class="mt">
        <thead>
        <tr>
          <th style="width: 25%;">Type</th>
          <th style="width: 25%;">Code</th>
          <th style="width: 25%;">View</th>
          <th style="width: 25%;">Edit</th>
        </tr>
        </thead>
        <tbody>
          <tr>
            {%- code str := "Hello, world" -%}
            <td><em>String</em></td>
            <td><code>view.String(str)</code></td>
            <td>{%= view.String(str) %}</td>
            <td>{%= edit.String("str", "id-str", str) %}</td>
          </tr>
          <tr>
            {%- code i := 12345 -%}
            <td><em>Integer</em></td>
            <td><code>view.Int(i)</code></td>
            <td>{%= view.Int(i) %}</td>
            <td>{%= edit.Int("i", "id-i", i) %}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
{%- endfunc -%}
